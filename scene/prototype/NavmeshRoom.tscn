[gd_scene load_steps=19 format=3 uid="uid://cfivue6gcwfy5"]

[ext_resource type="Texture2D" uid="uid://7ly2lf0fa1k" path="res://scene/prototype/texture/kenney/dark/00.png" id="1_rm78j"]
[ext_resource type="Script" path="res://scene/Room.gd" id="1_uau2x"]
[ext_resource type="Texture2D" uid="uid://bx7jeokhy6o38" path="res://scene/prototype/texture/kenney/orange/03.png" id="2_rw2ko"]
[ext_resource type="PackedScene" uid="uid://433rk2i0kijk" path="res://character/test/TestProp.tscn" id="3_o2f8a"]
[ext_resource type="PackedScene" uid="uid://gburrckbovb7" path="res://assets/NPC/Employee.gltf" id="5_a4x31"]
[ext_resource type="Script" path="res://npc/NavmeshAgent.gd" id="6_2gfkb"]
[ext_resource type="Texture2D" uid="uid://chn133pvad7jb" path="res://scene/prototype/texture/kenney/purple/00.png" id="7_cqiln"]

[sub_resource type="BoxShape3D" id="BoxShape3D_773ei"]
size = Vector3(3, 1, 2)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_eq0nc"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_b3p3n"]
albedo_texture = ExtResource("7_cqiln")

[sub_resource type="CapsuleMesh" id="CapsuleMesh_1biy4"]
material = SubResource("StandardMaterial3D_b3p3n")

[sub_resource type="NavigationMesh" id="NavigationMesh_di7sb"]
vertices = PackedVector3Array(-2.61195, 0.393904, -2.81635, -2.36195, 0.393904, -2.31635, -0.86195, 0.393904, -2.56635, -0.61195, 0.393904, -3.56635, -6.61195, 0.393904, -10.3163, -6.61195, 0.393904, -2.06635, -3.86195, 0.393904, -2.81635, 1.63805, 0.393904, -5.81635, 1.63805, 0.393904, -10.3163, -6.61195, 0.393904, -2.06635, -4.11195, 0.393904, -2.06635, -3.86195, 0.393904, -2.81635, -3.86195, 0.393904, -2.81635, -2.61195, 0.393904, -2.81635, -0.61195, 0.393904, -3.56635, 1.63805, 0.393904, -5.81635, 1.38805, 0.393904, -2.56635, 1.38805, 0.393904, -2.31635, 2.88805, 0.393904, -2.56635, 2.88805, 0.393904, -4.56635, 1.63805, 0.393904, -10.3163, 1.63805, 0.393904, -5.81635, 2.63805, 0.393904, -5.56635, 2.88805, 0.393904, -4.56635, 2.88805, 0.393904, -2.56635, 3.13805, 0.393904, -2.06635, 6.63805, 0.393904, -2.06635, 2.63805, 0.393904, -5.56635, 2.88805, 0.393904, -4.56635, 6.63805, 0.393904, -2.06635, 6.63805, 0.393904, -10.3163, 1.63805, 0.393904, -10.3163, 0.38805, 0.393904, 3.18365, -0.36195, 0.393904, 3.43365, -0.11195, 0.393904, 3.93365, 0.88805, 0.393904, 3.93365, -2.61195, 0.393904, -1.06635, -3.86195, 0.393904, -1.06635, -3.86195, 0.393904, 1.68365, 0.13805, 0.393904, 1.68365, 0.13805, 0.393904, 0.18365, 0.88805, 0.393904, 3.93365, 1.13805, 0.393904, 4.68365, 1.63805, 0.393904, 4.43365, 1.38805, 0.393904, -2.31635, 1.38805, 0.393904, -2.56635, 0.63805, 0.393904, -1.81635, 0.88805, 0.393904, 3.93365, 1.63805, 0.393904, 4.43365, 1.88805, 0.393904, 3.43365, 0.38805, 0.393904, 3.18365, 3.13805, 0.393904, 3.43365, 3.38805, 0.393904, 3.93365, 3.63805, 0.393904, 2.43365, 1.63805, 0.393904, -0.81635, 1.38805, 0.393904, -2.31635, 0.63805, 0.393904, -1.81635, -3.86195, 0.393904, 1.68365, -3.86195, 0.393904, -1.06635, -4.11195, 0.393904, -2.06635, -6.61195, 0.393904, -2.06635, -6.61195, 0.393904, 2.68365, -4.11195, 0.393904, 2.68365, -0.61195, 0.393904, -1.81635, -0.86195, 0.393904, -2.56635, -2.36195, 0.393904, -2.31635, 0.38805, 0.393904, 3.18365, 1.88805, 0.393904, 3.43365, 3.13805, 0.393904, 3.43365, 3.63805, 0.393904, 2.43365, 0.38805, 0.393904, 1.68365, 0.13805, 0.393904, 1.68365, -0.61195, 0.393904, -1.81635, -2.36195, 0.393904, -2.31635, -2.61195, 0.393904, -1.06635, 0.13805, 0.393904, 0.18365, 0.13805, 0.393904, 0.18365, 1.63805, 0.393904, -0.06635, 1.63805, 0.393904, -0.81635, 0.63805, 0.393904, -1.81635, -0.61195, 0.393904, -1.81635, 1.63805, 0.393904, -0.06635, 3.63805, 0.393904, 0.43365, 2.88805, 0.393904, -0.81635, 1.63805, 0.393904, -0.81635, 3.63805, 0.393904, 0.43365, 4.38805, 0.393904, 0.93365, 6.63805, 0.393904, 1.68365, 6.63805, 0.393904, -2.06635, 3.13805, 0.393904, -2.06635, 2.88805, 0.393904, -0.81635, 0.13805, 0.393904, 1.68365, 0.38805, 0.393904, 1.68365, 0.13805, 0.393904, 0.18365, 4.38805, 0.393904, 0.93365, 4.38805, 0.393904, 1.68365, 6.63805, 0.393904, 1.68365, 1.88805, 0.393904, 5.18365, 1.63805, 0.393904, 4.43365, 1.13805, 0.393904, 4.68365, 1.13805, 0.393904, 6.93365, 4.13805, 0.393904, 2.43365, 3.63805, 0.393904, 2.43365, 3.38805, 0.393904, 3.93365, 3.13805, 0.393904, 5.18365, 0.13805, 0.393904, 10.4337, 6.63805, 0.393904, 10.4337, 6.63805, 0.393904, 1.68365, 6.63805, 0.393904, 1.68365, 4.38805, 0.393904, 1.68365, 4.13805, 0.393904, 2.43365, 3.13805, 0.393904, 5.18365, 1.88805, 0.393904, 5.18365, 1.13805, 0.393904, 6.93365, 0.13805, 0.393904, 10.4337, 4.13805, 0.393904, 2.43365, 3.38805, 0.393904, 3.93365, 3.13805, 0.393904, 5.18365, 6.63805, 0.393904, 1.68365, 1.13805, 0.393904, 6.93365, 0.13805, 0.393904, 7.18365, 0.13805, 0.393904, 10.4337, -0.61195, 0.393904, 4.18365, -0.11195, 0.393904, 3.93365, -0.36195, 0.393904, 3.43365, -3.86195, 0.393904, 3.43365, -3.86195, 0.393904, 3.43365, -4.11195, 0.393904, 2.68365, -6.61195, 0.393904, 2.68365, -6.61195, 0.393904, 10.4337, 0.13805, 0.393904, 10.4337, -0.61195, 0.393904, 6.93365, -3.86195, 0.393904, 3.43365, -6.61195, 0.393904, 2.68365, 0.13805, 0.393904, 10.4337, 0.13805, 0.393904, 7.18365, -0.61195, 0.393904, 6.93365, -0.61195, 0.393904, 6.93365, -0.61195, 0.393904, 4.18365, -3.86195, 0.393904, 3.43365)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(6, 5, 7), PackedInt32Array(7, 5, 8), PackedInt32Array(8, 5, 4), PackedInt32Array(11, 10, 9), PackedInt32Array(13, 12, 14), PackedInt32Array(14, 12, 15), PackedInt32Array(17, 16, 18), PackedInt32Array(18, 16, 19), PackedInt32Array(20, 22, 21), PackedInt32Array(24, 23, 25), PackedInt32Array(25, 23, 26), PackedInt32Array(28, 27, 29), PackedInt32Array(29, 27, 30), PackedInt32Array(30, 27, 31), PackedInt32Array(33, 32, 34), PackedInt32Array(34, 32, 35), PackedInt32Array(37, 36, 38), PackedInt32Array(38, 36, 40), PackedInt32Array(38, 40, 39), PackedInt32Array(43, 42, 41), PackedInt32Array(46, 45, 44), PackedInt32Array(48, 47, 49), PackedInt32Array(49, 47, 50), PackedInt32Array(52, 51, 53), PackedInt32Array(54, 56, 55), PackedInt32Array(62, 61, 57), PackedInt32Array(57, 61, 58), PackedInt32Array(58, 61, 59), PackedInt32Array(59, 61, 60), PackedInt32Array(65, 64, 63), PackedInt32Array(71, 70, 66), PackedInt32Array(66, 70, 67), PackedInt32Array(67, 70, 68), PackedInt32Array(68, 70, 69), PackedInt32Array(73, 72, 74), PackedInt32Array(74, 72, 75), PackedInt32Array(77, 76, 78), PackedInt32Array(78, 76, 79), PackedInt32Array(79, 76, 80), PackedInt32Array(84, 83, 81), PackedInt32Array(81, 83, 82), PackedInt32Array(85, 90, 86), PackedInt32Array(86, 90, 89), PackedInt32Array(86, 89, 88), PackedInt32Array(86, 88, 87), PackedInt32Array(93, 92, 91), PackedInt32Array(96, 95, 94), PackedInt32Array(98, 97, 99), PackedInt32Array(99, 97, 100), PackedInt32Array(103, 102, 101), PackedInt32Array(105, 104, 106), PackedInt32Array(106, 104, 107), PackedInt32Array(110, 109, 108), PackedInt32Array(112, 111, 113), PackedInt32Array(113, 111, 114), PackedInt32Array(116, 115, 117), PackedInt32Array(117, 115, 118), PackedInt32Array(121, 120, 119), PackedInt32Array(123, 122, 124), PackedInt32Array(124, 122, 125), PackedInt32Array(128, 127, 126), PackedInt32Array(132, 131, 133), PackedInt32Array(133, 131, 130), PackedInt32Array(133, 130, 129), PackedInt32Array(136, 135, 134), PackedInt32Array(139, 138, 137)]
agent_radius = 0.4

[sub_resource type="BoxShape3D" id="BoxShape3D_o5ev8"]
size = Vector3(0.5, 0.5, 0.5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_agkml"]
albedo_texture = ExtResource("2_rw2ko")
uv1_triplanar = true
uv1_world_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_vqdp5"]
material = SubResource("StandardMaterial3D_agkml")
size = Vector3(0.5, 0.5, 0.5)

[sub_resource type="BoxShape3D" id="BoxShape3D_lf3p8"]
size = Vector3(10, 1, 10)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_nwg6f"]
albedo_texture = ExtResource("1_rm78j")
uv1_triplanar = true
uv1_world_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_8o3uq"]
material = SubResource("StandardMaterial3D_nwg6f")
size = Vector3(10, 1, 10)

[node name="NavmeshRoom" type="Node3D" node_paths=PackedStringArray("prop_order", "finish_area")]
script = ExtResource("1_uau2x")
prop_order = [NodePath("TestProp")]
finish_area = NodePath("FinishArea")

[node name="TestProp" parent="." instance=ExtResource("3_o2f8a")]
transform = Transform3D(-0.141817, 0, -0.989893, 0, 1, 0, 0.989893, 0, -0.141817, -5.06521, 0.805671, 0.573181)
speed = 5.0

[node name="FinishArea" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.835262, 0.818032, -6.31511)
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="FinishArea"]
shape = SubResource("BoxShape3D_773ei")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.947315, 0.233943, -0.218782, -0.116376, 0.887752, 0.445368, 0.298414, -0.396443, 0.868206, 0, 3.14195, -5.71476)

[node name="Employee" parent="." instance=ExtResource("5_a4x31")]
transform = Transform3D(-0.5, 0, -0.866025, 0, 1, 0, 0.866025, 0, -0.5, -1.20909, 0.502358, -2.76638)

[node name="NavmeshAgent" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.61107, 0.0673038, 7.32791)
floor_block_on_wall = false
script = ExtResource("6_2gfkb")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavmeshAgent"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_eq0nc")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="NavmeshAgent"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavmeshAgent"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
mesh = SubResource("CapsuleMesh_1biy4")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.596496, 0)
navigation_mesh = SubResource("NavigationMesh_di7sb")

[node name="OBSTACLES" type="Node3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.596496, 0)

[node name="Box11" type="StaticBody3D" parent="NavigationRegion3D/OBSTACLES"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.45524, 0.75, 4.21318)
metadata/_edit_group_ = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/OBSTACLES/Box11"]
shape = SubResource("BoxShape3D_o5ev8")

[node name="MeshInstance" type="MeshInstance3D" parent="NavigationRegion3D/OBSTACLES/Box11"]
mesh = SubResource("BoxMesh_vqdp5")
skeleton = NodePath("../../../Floor")

[node name="Box12" type="StaticBody3D" parent="NavigationRegion3D/OBSTACLES"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.17016, 0.75, -1.77561)
metadata/_edit_group_ = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/OBSTACLES/Box12"]
shape = SubResource("BoxShape3D_o5ev8")

[node name="MeshInstance" type="MeshInstance3D" parent="NavigationRegion3D/OBSTACLES/Box12"]
mesh = SubResource("BoxMesh_vqdp5")
skeleton = NodePath("../../../Floor")

[node name="Box13" type="StaticBody3D" parent="NavigationRegion3D/OBSTACLES"]
transform = Transform3D(-0.240313, 0, -6.00034, 0, 1, 0, 0.970696, 0, -1.48549, 2.26625, 0.75, 1.17873)
metadata/_edit_group_ = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/OBSTACLES/Box13"]
shape = SubResource("BoxShape3D_o5ev8")

[node name="MeshInstance" type="MeshInstance3D" parent="NavigationRegion3D/OBSTACLES/Box13"]
mesh = SubResource("BoxMesh_vqdp5")
skeleton = NodePath("../../../Floor")

[node name="Box14" type="StaticBody3D" parent="NavigationRegion3D/OBSTACLES"]
transform = Transform3D(6.71461, 0, 0, 0, 4.54598, 0, 0, 0, 1.0034, -1.92843, 0.75, 2.55638)
metadata/_edit_group_ = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/OBSTACLES/Box14"]
shape = SubResource("BoxShape3D_o5ev8")

[node name="MeshInstance" type="MeshInstance3D" parent="NavigationRegion3D/OBSTACLES/Box14"]
mesh = SubResource("BoxMesh_vqdp5")
skeleton = NodePath("../../../Floor")

[node name="Box15" type="StaticBody3D" parent="NavigationRegion3D/OBSTACLES"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 3.96024, 0.225782, 0.75, 5.51541)
metadata/_edit_group_ = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/OBSTACLES/Box15"]
shape = SubResource("BoxShape3D_o5ev8")

[node name="MeshInstance" type="MeshInstance3D" parent="NavigationRegion3D/OBSTACLES/Box15"]
mesh = SubResource("BoxMesh_vqdp5")
skeleton = NodePath("../../../Floor")

[node name="Box16" type="StaticBody3D" parent="NavigationRegion3D/OBSTACLES"]
transform = Transform3D(0.783574, 0, -3.95834, 0, 17.0384, 0, 0.621298, 0, 4.99221, 0.960413, 0.75, -3.74745)
metadata/_edit_group_ = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/OBSTACLES/Box16"]
shape = SubResource("BoxShape3D_o5ev8")

[node name="MeshInstance" type="MeshInstance3D" parent="NavigationRegion3D/OBSTACLES/Box16"]
mesh = SubResource("BoxMesh_vqdp5")
skeleton = NodePath("../../../Floor")

[node name="Box17" type="StaticBody3D" parent="NavigationRegion3D/OBSTACLES"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.24603, 0.75, -1.93207)
metadata/_edit_group_ = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/OBSTACLES/Box17"]
shape = SubResource("BoxShape3D_o5ev8")

[node name="MeshInstance" type="MeshInstance3D" parent="NavigationRegion3D/OBSTACLES/Box17"]
mesh = SubResource("BoxMesh_vqdp5")
skeleton = NodePath("../../../Floor")

[node name="Floor" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(1.42239, 0, 0, 0, 1.00472, 0, 0, 0, 2.16327, 0, -0.596496, 0)
metadata/_edit_group_ = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/Floor"]
shape = SubResource("BoxShape3D_lf3p8")

[node name="MeshInstance" type="MeshInstance3D" parent="NavigationRegion3D/Floor"]
mesh = SubResource("BoxMesh_8o3uq")
skeleton = NodePath("")
